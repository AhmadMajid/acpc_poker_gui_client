.chip_balances
  .panel-heading
    .match_name= "#{match_view.match.name} <span class=\"right\">#{match_view.state.hand_number+1} / #{match_view.match.number_of_hands}</span>".html_safe
  %table.table.table-striped
    %thead
      %tr
        %th Player
        %th Balance
    %tbody
      - match_view.players.each do |player|
        %tr
          %td= "#{player['name']}"
          %td= "#{player['chip_balance'].to_f}"
.row
  - if action_timeout_enabled?
    .timeout
      .panel-heading
        %h1.time-remaining= PlayerActionsHelper::ACTION_TIMEOUT
    :javascript
      Timer.clear();
      function afterEachSecond() {
        timeRemaining = parseInt($('.time-remaining').text());
        if (timeRemaining <= 0) {
          alert('The match has timed out.');
          rt.leaveMatch();
        }
        else {
          $('.time-remaining').text(timeRemaining - 1);
          Timer.start(afterEachSecond);
        }
      };
      Timer.start(afterEachSecond);
.row
  %ul.summary_information.list-group
    -# @todo Need to show previous messages too
    - match_view.slice.messages.each do |m|
      %li.list-group-item= m.gsub(/^\s*(\w)/) { $1.upcase }
    - if match_view.match_ended?
      %li.list-group-item The match has ended, thanks for playing!
- if PlayerActionsHelper::ENABLE_CHAT
  #chat-box
  :javascript
    Chat.init(
      '#chat-box',
      "#{user.name}",
      function(id, user, msg) {
        Realtime.connection.emitChatMessage(user, msg);
    });
